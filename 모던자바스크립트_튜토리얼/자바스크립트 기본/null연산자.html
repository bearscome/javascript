<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        //최근에 추가됨 스펙에 추가된 지 얼마 안 된 문법입니다. 구식 브라우저는 폴리필이 필요합니다.
        /*
        null 병합 연산자(nullish coalescing operator) ??를 사용하면 짧은 문법으로 여러 피연산자 중 그 값이 ‘확정되어있는’ 변수를 찾을 수 있습니다.
        a ?? b의 평가 결과는 다음과 같습니다.
        a가 null도 아니고 undefined도 아니면 a
        그 외의 경우는 b
        null 병합 연산자 ??없이 x = a ?? b와 동일한 동작을 하는 코드를 작성하면 다음과 같습니다.
        x = (a !== null && a !== undefined) ? a : b;

        x = a가 null 아니고, undefined가 아닐 떄는 a를 반환, a가 null이거나 undefined라면 b를 반환

        ||는 첫 번째 truthy 값을 반환합니다.
        ??는 첫 번째 정의된(defined) 값을 반환합니다.

        let height = 0;

        alert(height || 100); // 100
        alert(height ?? 100); // 0

        ||와 유사하지만 ||는 false만 구분하는 것, ??는 정의된 null, undefined만 구별
        즉 0을 구별할 때 매우 좋음 ||는 0을 false로 반환함. 하지만 ??는 0은 null, undefined가 아니기 때문에 연산 가능
        ||는 펄즈, ??은 정의된 값
        이런 특징 때문에 높이처럼 0이 할당될 수 있는 변수를 사용해 기능을 개발할 땐 ||보다 ??가 적합합니다.


        ??의 연산자 우선순위는 5로 꽤 낮습니다
        let height = null;
        let width = null;

        // 괄호를 추가!
        let area = (height ?? 100) * (width ?? 50);

        alert(area); // 5000
        그렇지 않으면 *가 ??보다 우선순위가 높기 때문에 *가 먼저 실행됩니다.
        결국엔 아래 예시처럼 동작하겠죠.
        // 원치 않는 결과
        let area = height ?? (100 * width) ?? 50;


        이 제약에 대해선 아직 논쟁이 많긴 하지만 사람들이 ||를 ??로 바꾸기 시작하면서 만드는 실수를 방지하고자 명세서에 제약이 추가된 상황입니다.

        제약을 피하려면 괄호를 사용해주세요.

        let x = (1 && 2) ?? 3; // 제대로 동작합니다.

        alert(x); // 2

        요약 
        null 병합 연산자 ??를 사용하면 피연산자 중 ‘값이 할당된’ 변수를 빠르게 찾을 수 있습니다.

        ??는 변수에 기본값을 할당하는 용도로 사용할 수 있습니다.

        // height가 null이나 undefined인 경우, 100을 할당
        height = height ?? 100;
        ??의 연산자 우선순위는 대다수의 연산자보다 낮고 ?와 = 보다는 높습니다.

        괄호 없이 ??를 ||나 &&와 함께 사용하는 것은 금지되어있습니다.
        
        삼항 연산자랑도 비슷한거 같음
        null과 undefined랑 0을 구분지어야 할 때 역할이 큼

        if문에서 ?와 null연산자에서 ?? 은 다른거다..
        ?는 펄즈 트루일 때 쓰는거고 ??은 0이 펄스 값으로 나오니 null 값과 undefined값만 찾도록 나온 거
        */

        
    </script>
</body>
</html>